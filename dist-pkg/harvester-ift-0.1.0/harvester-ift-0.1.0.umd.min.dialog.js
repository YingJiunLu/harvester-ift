(("undefined"!==typeof self?self:this)["webpackJsonpharvester_ift_0_1_0"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_ift_0_1_0"]||[]).push([[5],{"053f":function(t,e,a){var s=a("dafb");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("260cfbf6",s,!0,{sourceMap:!1,shadowMode:!1})},"0d35":function(t,e,a){"use strict";a("d91f")},"0eaa":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{ref:"modal",attrs:{name:"modal","show-highlight-border":!1},scopedSlots:t._u([{key:"body",fn:function(){return[e("LabeledInput",{attrs:{label:t.t("generic.name"),required:""},model:{value:t.diskName,callback:function(e){t.diskName=e},expression:"diskName"}}),e("LabeledSelect",{staticClass:"mt-20",attrs:{label:t.t("harvester.fields.volume"),options:t.volumeOption,required:""},model:{value:t.volumeName,callback:function(e){t.volumeName=e},expression:"volumeName"}})]},proxy:!0}])},[e("h4",{staticClass:"text-default-text",attrs:{slot:"title"},domProps:{innerHTML:t._s(t.t("harvester.modal.hotplug.title"))},slot:"title"}),e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",attrs:{type:"button"},on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"apply",disabled:!t.diskName||!t.volumeName},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("3e9d"),n=a("1d19"),c=a("9ce4"),i=a("907c"),l=a("873f"),d=a("7b9e"),u=a("6418"),m=a("d709"),h=a("8e93"),v=a("466b"),b={name:"HotplugModal",components:{AsyncButton:m["b"],Card:d["a"],LabeledInput:h["a"],LabeledSelect:v["a"],Banner:u["a"]},props:{resources:{type:Array,required:!0}},async fetch(){this.allPVCs=await this.$store.dispatch("cluster/findAll",{type:i["x"]})},data(){return{diskName:"",volumeName:"",errors:[],allPVCs:[]}},computed:{...Object(c["a"])({t:"i18n/t"}),PVCs(){return this.allPVCs.filter(t=>this.actionResource.metadata.namespace===t.metadata.namespace)||[]},actionResource(){return this.resources[0]},volumeOption(){return Object(n["a"])(this.PVCs.filter(t=>{var e;return(null===(e=t.metadata)||void 0===e||null===(e=e.annotations)||void 0===e||!e[l["a"].IMAGE_ID])&&!t.attachVM}).map(t=>({label:t.metadata.name,value:t.metadata.name})),"label")}},methods:{close(){this.diskName="",this.volumeName="",this.$emit("close")},async save(t){if(this.actionResource)try{const e=await this.actionResource.doAction("addVolume",{volumeSourceName:this.volumeName,diskName:this.diskName},{},!1);if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.hotplug.success",{diskName:this.diskName,vm:this.actionResource.nameDisplay})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(r["b"])(a);this.$set(this,"errors",s),t(!1)}}}},p=b,f=(a("d6dd"),a("d802")),y=Object(f["a"])(p,s,o,!1,null,"38589c20",null);e["default"]=y.exports},"1de9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"body",fn:function(){return[e("LabeledInput",{attrs:{disabled:!0,label:t.t("generic.namespace")},model:{value:t.actionResource.metadata.namespace,callback:function(e){t.$set(t.actionResource.metadata,"namespace",e)},expression:"actionResource.metadata.namespace"}}),e("LabeledInput",{staticClass:"mt-20",attrs:{label:t.t("generic.name"),required:""},model:{value:t.snapshotName,callback:function(e){t.snapshotName=e},expression:"snapshotName"}})]},proxy:!0}])},[e("h4",{staticClass:"text-default-text",attrs:{slot:"title"},domProps:{innerHTML:t._s(t.t("harvester.modal.vmSnapshot.title"))},slot:"title"}),e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create",disabled:!t.snapshotName},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("3e9d"),n=a("9ce4"),c=a("7b9e"),i=a("6418"),l=a("d709"),d=a("8e93"),u=a("90cd"),m={name:"HarvesterVMSnapshotDialog",components:{AsyncButton:l["b"],Card:c["a"],LabeledInput:d["a"],Banner:i["a"]},props:{resources:{type:Array,required:!0}},data(){return{snapshotName:"",snapshotNamespace:"",errors:[]}},computed:{...Object(n["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.snapshotNamespace="",this.snapshotName="",this.$emit("close")},async save(t){if(this.actionResource)try{const e=await this.$store.dispatch("cluster/create",{metadata:{name:this.snapshotName,namespace:this.actionResource.metadata.namespace,ownerReferences:this.getOwnerReferencesFromVM(this.actionResource)},spec:{source:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:this.actionResource.metadata.name},type:"snapshot"},type:u["a"].VM_SNAPSHOT});await e.save(),this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.vmSnapshot.success",{name:this.snapshotName})},{root:!0}),this.close(),t(!0)}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(r["b"])(a);this.$set(this,"errors",s),t(!1)}},getOwnerReferencesFromVM(t){var e;const a=t.metadata.name,s=t.kind,o="kubevirt.io/v1",r=null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.uid;return[{name:a,kind:s,uid:r,apiVersion:o}]}}},h=m,v=(a("6531"),a("d802")),b=Object(v["a"])(h,s,o,!1,null,"fe9c23b0",null);e["default"]=b.exports},"216c":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-38589c20],.buttons[data-v-38589c20]{width:100%}.buttons[data-v-38589c20]{display:flex;justify-content:flex-end}",""]),t.exports=e},"247c":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-fe9c23b0],.buttons[data-v-fe9c23b0]{width:100%}.buttons[data-v-fe9c23b0]{display:flex;justify-content:flex-end}",""]),t.exports=e},2648:function(t,e,a){var s=a("ab82");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("c1ba1834",s,!0,{sourceMap:!1,shadowMode:!1})},3705:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".restart-modal[data-v-c430a37c]{z-index:45}.prompt-restart[data-v-c430a37c]{margin:0}.bottom[data-v-c430a37c]{display:flex;flex-direction:column;flex:1}.bottom .banner[data-v-c430a37c]{margin-top:0}.bottom .buttons[data-v-c430a37c]{display:flex;justify-content:flex-end;width:100%}",""]),t.exports=e},5421:function(t,e,a){"use strict";a("7f2d")},"5f39":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{ref:"modal",attrs:{name:"modal","show-highlight-border":!1}},[e("h4",{staticClass:"text-default-text",attrs:{slot:"title"},domProps:{innerHTML:t._s(t.t("harvester.virtualMachine.unplug.title",{name:t.diskName}))},slot:"title"}),e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",attrs:{type:"button"},on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"apply","action-label":t.t("harvester.virtualMachine.unplug.actionLabel"),"waiting-label":t.t("harvester.virtualMachine.unplug.actionLabel"),"success-label":t.t("harvester.virtualMachine.unplug.actionLabel")},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("3e9d"),c=a("7b9e"),i=a("6418"),l=a("d709"),d={name:"HarvesterHotUnplugModal",components:{AsyncButton:l["b"],Card:c["a"],Banner:i["a"]},props:{resources:{type:Array,required:!0}},data(){return{errors:[]}},computed:{...Object(r["b"])("action-menu",["modalData"]),...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},diskName(){return this.modalData.diskName}},methods:{close(){this.$emit("close")},async save(t){try{const e=await this.actionResource.doAction("removeVolume",{diskName:this.diskName});if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.hotunplug.success",{name:this.diskName})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(n["b"])(a);this.$set(this,"errors",s),t(!1)}}}},u=d,m=(a("5421"),a("d802")),h=Object(m["a"])(u,s,o,!1,null,"5e4caf58",null);e["default"]=h.exports},"61a1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("modal",{staticClass:"restart-modal",attrs:{name:"restartDialog",width:600,height:"auto","click-to-close":!1},on:{closed:t.close}},[e("Card",{staticClass:"prompt-restart",attrs:{"show-highlight-border":!1}},[e("h4",{staticClass:"text-default-text",attrs:{slot:"title"},domProps:{innerHTML:t._s(t.t("harvester.modal.restart.title"))},slot:"title"}),e("template",{slot:"body"},[t._t("body",(function(){return[e("div",{staticClass:"pl-10 pr-10",domProps:{innerHTML:t._s(t.t("harvester.modal.restart.tip"))}})]}))],2),e("div",{staticClass:"bottom",attrs:{slot:"actions"},slot:"actions"},[t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})})),e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("harvester.modal.restart.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"restart"},on:{click:t.apply}})],1)],2)],2)],1)},o=[],r=a("9ce4"),n=a("d709"),c=a("7b9e"),i=a("6418"),l=a("3e9d"),d={components:{Card:c["a"],AsyncButton:n["b"],Banner:i["a"]},props:{vm:{type:Object,required:!0}},data(){return{errors:[],resolve:null}},computed:{...Object(r["a"])({t:"i18n/t"})},methods:{close(){this.resolve(),this.$emit("close")},apply(t){try{this.vm.doActionGrowl("restart",{}),t(!0),this.resolve(),this.close()}catch(e){console.error(e),this.errors=Object(l["b"])(e),t(!1)}}}},u=d,m=(a("9c1e"),a("d802")),h=Object(m["a"])(u,s,o,!1,null,"c430a37c",null);e["default"]=h.exports},6531:function(t,e,a){"use strict";a("afba")},6588:function(t,e,a){var s=a("f4dc");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("e46d247a",s,!0,{sourceMap:!1,shadowMode:!1})},"6dbd":function(t,e,a){"use strict";a("2648")},"72b7":function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-ee8c7492],.buttons[data-v-ee8c7492]{width:100%}.buttons[data-v-ee8c7492]{display:flex;justify-content:flex-end}",""]),t.exports=e},7741:function(t,e,a){"use strict";a("053f")},7916:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-768f8ac0],.buttons[data-v-768f8ac0]{width:100%}.buttons[data-v-768f8ac0]{display:flex;justify-content:flex-end}.errorMsg[data-v-768f8ac0]{color:var(--error)!important}",""]),t.exports=e},"7bb0":function(t,e,a){"use strict";a("b81e")},"7f2d":function(t,e,a){var s=a("9011");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("16e16210",s,!0,{sourceMap:!1,shadowMode:!1})},"8b61":function(t,e,a){"use strict";a("ee83")},9011:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-5e4caf58],.buttons[data-v-5e4caf58]{width:100%}.buttons[data-v-5e4caf58]{display:flex;justify-content:flex-end}",""]),t.exports=e},"99d9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.setLabel.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return["true"!==t.enabled?e("span",{domProps:{innerHTML:t._s(t.t("harvester.modal.setLabel.body.add"))}}):e("span",{domProps:{innerHTML:t._s(t.t("harvester.modal.setLabel.body.remove"))}}),e("span",{staticClass:"text-warning",domProps:{innerHTML:t._s(t.t("harvester.modal.setLabel.body.warning"))}})]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("button",{staticClass:"btn role-primary mr-10",on:{click:t.create}},[t._v(" "+t._s(t.t("harvester.modal.setLabel.action"))+" ")])])])])},o=[],r=a("e24b"),n=a("9ce4"),c=a("7b9e"),i={name:"CloneVMModal",components:{Card:c["a"]},props:{resources:{type:Array,required:!0}},data(){return{enabled:this.resources[0].metadata.labels["gpu.infortrend.com/vm-gpu-mode"]}},computed:{...Object(n["a"])({t:"i18n/t"})},methods:{close(){this.$emit("close")},create(){"true"!==this.enabled?Object(r["j"])(this.resources[0].metadata,"labels",{"gpu.infortrend.com/vm-gpu-mode":"true"}):Object(r["j"])(this.resources[0].metadata,"labels",{"gpu.infortrend.com/vm-gpu-mode":"false"}),this.resources[0].save(),this.close()}}},l=i,d=(a("8b61"),a("d802")),u=Object(d["a"])(l,s,o,!1,null,"ee8c7492",null);e["default"]=u.exports},"9c1e":function(t,e,a){"use strict";a("b232")},"9da6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.cloneVM.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("Checkbox",{staticClass:"mb-10",attrs:{"label-key":"harvester.modal.cloneVM.type",disabled:""},model:{value:t.cloneData,callback:function(e){t.cloneData=e},expression:"cloneData"}}),e("LabeledInput",{directives:[{name:"show",rawName:"v-show",value:t.cloneData,expression:"cloneData"}],staticClass:"mb-20",attrs:{label:t.t("harvester.modal.cloneVM.name"),required:"",disabled:t.alertMsgEnabled},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t.alertMsgEnabled?e("div",{staticClass:"errorMsg"},[t._v(" "+t._s(t.t("harvester.modal.cloneVM.message.error",{name:t.vmName}))+" ")]):t._e()]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create","action-label":t.cloneData?t.t("harvester.modal.cloneVM.action.create"):t.t("harvester.modal.cloneVM.action.clone"),disabled:t.cloneData&&!t.name||t.alertMsgEnabled},on:{click:t.create}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("3e9d"),n=a("9ce4"),c=a("7b9e"),i=a("6418"),l=a("0df0"),d=a("d709"),u=a("8e93"),m={name:"CloneVMModal",components:{AsyncButton:d["b"],Banner:i["a"],Checkbox:l["a"],Card:c["a"],LabeledInput:u["a"]},props:{resources:{type:Array,required:!0}},data(){return{name:"",cloneData:!0,errors:[],alertMsgEnabled:!1,vmName:""}},created(){this.vmName=this.resources[0].metadata.name,this.alertMsgEnabled="Running"===this.resources[0].status.printableStatus},computed:{...Object(n["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.name="",this.$emit("close")},async create(t){if(!this.cloneData)return this.resources[0].goToClone(),t(!1),void this.close();try{const e=await this.actionResource.doAction("clone",{targetVm:this.name},{},!1);if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.cloneVM.message.success",{name:this.name})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(r["b"])(a);this.$set(this,"errors",s),t(!1)}}}},h=m,v=(a("6dbd"),a("d802")),b=Object(v["a"])(h,s,o,!1,null,"d7084b68",null);e["default"]=b.exports},a8e3:function(t,e,a){"use strict";a("6588")},ab82:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-d7084b68],.buttons[data-v-d7084b68]{width:100%}.buttons[data-v-d7084b68]{display:flex;justify-content:flex-end}.errorMsg[data-v-d7084b68]{color:var(--error)!important}",""]),t.exports=e},afba:function(t,e,a){var s=a("247c");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("3145d4cb",s,!0,{sourceMap:!1,shadowMode:!1})},b232:function(t,e,a){var s=a("3705");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("64204601",s,!0,{sourceMap:!1,shadowMode:!1})},b81e:function(t,e,a){var s=a("7916");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("0e92b9a6",s,!0,{sourceMap:!1,shadowMode:!1})},ce65:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-0362b900],.buttons[data-v-0362b900]{width:100%}.buttons[data-v-0362b900]{display:flex;justify-content:flex-end}",""]),t.exports=e},d0d1:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.ejectCDROM.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("span",{staticClass:"text-info mb-10"},[t._v(" "+t._s(t.t("harvester.modal.ejectCDROM.operationTip"))+" ")]),e("div",t._l(t.allDisk,(function(a){return e("Checkbox",{key:a.name,attrs:{label:a.name},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"disk.value"}})})),1),e("Banner",{attrs:{color:"warning"}},[e("span",[t._v(t._s(t.t("harvester.modal.ejectCDROM.warnTip")))])])]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{staticClass:"btn bg-error ml-10",attrs:{mode:"delete",disabled:!t.diskNames.length},on:{click:t.remove}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("7b9e"),c=a("6418"),i=a("d709"),l=a("0df0"),d=a("3e9d"),u={name:"HarvesterEjectCDROMModal",components:{AsyncButton:i["b"],Card:n["a"],Checkbox:l["a"],Banner:c["a"]},props:{resources:{type:Array,required:!0}},data(){const t=[],e=this.resources[0].spec.template.spec.domain.devices.disks;return Array.isArray(e)&&e.forEach(e=>{e.cdrom&&t.push({name:e.name,value:!1})}),{allDisk:t,errors:[],diskNames:[]}},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},isDeleteDisabled(){return 0===this.diskNames.length}},methods:{updateNames(t){this.diskNames=t},async remove(t){try{await this.actionResource.doAction("ejectCdRom",{diskNames:this.diskNames}),this.close(),t(!0)}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(d["b"])(a);this.$set(this,"errors",s),t(!1)}},close(){this.backupName="",this.errors=[],this.$emit("close")}},watch:{allDisk:{handler(t){const e=[];t.forEach(t=>{t.value&&e.push(t.name)}),this.$set(this,"diskNames",e)},deep:!0}}},m=u,h=(a("a8e3"),a("d802")),v=Object(h["a"])(m,s,o,!1,null,"0c1862d4",null);e["default"]=v.exports},d6dd:function(t,e,a){"use strict";a("e3ff")},d91f:function(t,e,a){var s=a("ce65");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("3b66c506",s,!0,{sourceMap:!1,shadowMode:!1})},da7f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"body",fn:function(){return[t._v(" "+t._s(t.t("harvester.pci.enablePassthroughWarning"))+" ")]},proxy:!0}])},[e("h4",{staticClass:"text-default-text",attrs:{slot:"title"},domProps:{innerHTML:t._s(t.t("promptRemove.title"))},slot:"title"}),e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"enable"},on:{click:t.save}})],1)])])},o=[],r=a("90cd"),n=a("9ce4"),c=a("7b9e"),i=a("d709"),l=a("2cb5"),d={name:"HarvesterEnablePassthrough",components:{AsyncButton:i["b"],Card:c["a"]},props:{resources:{type:Array,required:!0}},data(){return{}},computed:{...Object(n["a"])({t:"i18n/t"})},methods:{close(){this.$emit("close")},async save(t){const e=this.$store.getters["isSingleProduct"];let a="admin";var s;e||(a=null===(s=this.$store.getters["auth/v3User"])||void 0===s?void 0:s.username);for(let n=0;n<this.resources.length;n++){const e=this.resources[n],s=this.$store.getters["currentProduct"].inStore,c=await this.$store.dispatch(s+"/create",{type:r["a"].PCI_CLAIM,metadata:{name:e.metadata.name,ownerReferences:[{apiVersion:"devices.harvesterhci.io/v1beta1",kind:"PCIDevice",name:e.metadata.name,uid:e.metadata.uid}]},spec:{address:e.status.address,nodeName:e.status.nodeName,userName:a}});try{await c.save(),t(!0),this.close()}catch(o){this.$store.dispatch("growl/fromError",{title:this.t("harvester.pci.claimError",{name:Object(l["g"])(e.metadata.name)}),err:o},{root:!0}),t(!1)}}}}},u=d,m=(a("0d35"),a("d802")),h=Object(m["a"])(u,s,o,!1,null,"0362b900",null);e["default"]=h.exports},dafb:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-353892ac],.buttons[data-v-353892ac]{width:100%}.buttons[data-v-353892ac]{display:flex;justify-content:flex-end}.errorMsg[data-v-353892ac]{color:var(--error)!important}",""]),t.exports=e},de9c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.volumeClone.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("Checkbox",{staticClass:"mb-10",attrs:{"label-key":"harvester.modal.cloneVM.type",disabled:t.alertMsgEnabled},model:{value:t.cloneData,callback:function(e){t.cloneData=e},expression:"cloneData"}}),e("LabeledInput",{directives:[{name:"show",rawName:"v-show",value:t.cloneData,expression:"cloneData"}],staticClass:"mb-20",attrs:{label:t.t("harvester.modal.volumeClone.name"),required:"",disabled:t.alertMsgEnabled},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t.alertMsgEnabled?e("div",{staticClass:"errorMsg"},[t._v(" "+t._s(t.t("harvester.modal.volumeClone.message.error",{name:t.pvcName}))+" ")]):t._e()]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create",disabled:t.disableSave||t.alertMsgEnabled},on:{click:t.save}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("9ce4"),n=a("3e9d"),c=a("7b9e"),i=a("6418"),l=a("d709"),d=a("8e93"),u=a("0df0"),m=a("873f"),h={name:"HarvesterPvcCloneDialog",components:{AsyncButton:l["b"],Banner:i["a"],Card:c["a"],LabeledInput:d["a"],Checkbox:u["a"]},props:{resources:{type:Array,required:!0}},data(){return{name:"",cloneData:!0,errors:[],alertMsgEnabled:!1,pvcName:""}},created(){var t,e;this.pvcName=this.resources[0].metadata.name;const a=null!==(t=this.resources[0].metadata.annotations)&&void 0!==t&&t[m["a"].VOLUME_CLONE_INFO]?JSON.parse(null===(e=this.resources[0].metadata.annotations)||void 0===e?void 0:e[m["a"].VOLUME_CLONE_INFO]):"";this.alertMsgEnabled="True"===(null===a||void 0===a?void 0:a.ifoccupied)},computed:{...Object(r["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]},disableSave(){return this.cloneData&&!this.name}},methods:{close(){this.name="",this.$emit("close")},async save(t){if(!this.cloneData)return this.resources[0].goToClone(),t(!1),void this.close();try{const e={mode:"cdi",name:this.name};this.resources[0].metadata.annotations[m["a"].VOLUME_CLAIM_CLONE_MODE]=JSON.stringify(e),this.resources[0].save();const a=await this.actionResource.doAction("clone",{name:this.name});if(200===a._status||204===a._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.volumeClone.message.success",{name:this.name})},{root:!0}),this.close(),t(!0);else{const e=[null===a||void 0===a?void 0:a.data]||!1;this.$set(this,"errors",e),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(n["b"])(a);this.$set(this,"errors",s),t(!1)}}}},v=h,b=(a("7741"),a("d802")),p=Object(b["a"])(v,s,o,!1,null,"353892ac",null);e["default"]=p.exports},e3ff:function(t,e,a){var s=a("216c");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("58fa5dc6",s,!0,{sourceMap:!1,shadowMode:!1})},ee83:function(t,e,a){var s=a("72b7");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=a("0ed3").default;o("318729ee",s,!0,{sourceMap:!1,shadowMode:!1})},f4dc:function(t,e,a){var s=a("5eaa");e=s(!1),e.push([t.i,".actions[data-v-0c1862d4],.buttons[data-v-0c1862d4]{width:100%}.buttons[data-v-0c1862d4]{display:flex;justify-content:flex-end}",""]),t.exports=e},f890:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("Card",{attrs:{"show-highlight-border":!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.t("harvester.modal.cloneVM.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[e("Checkbox",{staticClass:"mb-10",attrs:{"label-key":"harvester.modal.cloneVM.type",disabled:""},model:{value:t.cloneData,callback:function(e){t.cloneData=e},expression:"cloneData"}}),e("LabeledInput",{directives:[{name:"show",rawName:"v-show",value:t.cloneData,expression:"cloneData"}],staticClass:"mb-20",attrs:{label:t.t("harvester.modal.cloneVM.name"),required:"",disabled:t.alertMsgEnabled},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t.alertMsgEnabled?e("div",{staticClass:"errorMsg"},[t._v(" "+t._s(t.t("harvester.modal.cloneVM.message.error",{name:t.vmName}))+" ")]):t._e()]},proxy:!0}])},[e("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),e("AsyncButton",{attrs:{mode:"create","action-label":t.cloneData?t.t("harvester.modal.cloneVM.action.create"):t.t("harvester.modal.cloneVM.action.clone"),disabled:t.cloneData&&!t.name||t.alertMsgEnabled},on:{click:t.create}})],1),t._l(t.errors,(function(t,a){return e("Banner",{key:a,attrs:{color:"error",label:t}})}))],2)])},o=[],r=a("3e9d"),n=a("9ce4"),c=a("7b9e"),i=a("6418"),l=a("0df0"),d=a("d709"),u=a("8e93"),m={name:"CloneVMModal",components:{AsyncButton:d["b"],Banner:i["a"],Checkbox:l["a"],Card:c["a"],LabeledInput:u["a"]},props:{resources:{type:Array,required:!0}},data(){return{name:"",cloneData:!0,errors:[],alertMsgEnabled:!1,vmName:""}},created(){this.vmName=this.resources[0].metadata.name,this.alertMsgEnabled="Running"===this.resources[0].status.printableStatus},computed:{...Object(n["a"])({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.name="",this.$emit("close")},async create(t){if(!this.cloneData)return this.resources[0].goToClone(),t(!1),void this.close();try{const e=await this.actionResource.doAction("clone",{targetVm:this.name},{},!1);if(200===e._status||204===e._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.cloneVM.message.success",{name:this.name})},{root:!0}),this.close(),t(!0);else{const a=[null===e||void 0===e?void 0:e.data]||!1;this.$set(this,"errors",a),t(!1)}}catch(e){const a=(null===e||void 0===e?void 0:e.data)||e,s=Object(r["b"])(a);this.$set(this,"errors",s),t(!1)}}}},h=m,v=(a("7bb0"),a("d802")),b=Object(v["a"])(h,s,o,!1,null,"768f8ac0",null);e["default"]=b.exports}}]);
//# sourceMappingURL=harvester-ift-0.1.0.umd.min.dialog.js.map